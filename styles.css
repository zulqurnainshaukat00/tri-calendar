*{box-sizing:border-box}
:root{--fg:#111;--muted:#666;--bg:#fff;--card:#f6f7f9;--acc:#0b5fff;--border:#e8e8e8}
:root.dark{--fg:#eaeaea;--muted:#a9b0bb;--bg:#0f1116;--card:#161b22;--acc:#5b8cff;--border:#2b313a}
@media (prefers-color-scheme: dark){:root.system{--fg:#eaeaea;--muted:#a9b0bb;--bg:#0f1116;--card:#161b22;--acc:#5b8cff;--border:#2b313a}}
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--border);gap:8px}
.topbar h1{margin:0;font-size:22px}
.topbar p{margin:0;color:var(--muted);font-size:14px}
.actions{display:flex;gap:8px;align-items:center}
select,button,input,textarea{color:var(--fg);background:var(--bg);border:1px solid var(--border);border-radius:10px;padding:6px 10px}
button.ghost{background:transparent}
.controls{padding:12px 16px;border-bottom:1px solid var(--border)}
.controls .row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.segmented{display:inline-flex;border:1px solid var(--border);border-radius:10px;overflow:hidden}
.segmented button{border:0;background:transparent;padding:8px 12px}
.segmented button.active{background:var(--acc);color:#fff}
details{margin-top:10px}
.settings-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;padding-top:8px}
.setting{background:var(--card);padding:12px;border-radius:12px}
.switch{display:flex;gap:8px;align-items:center;margin:6px 0}
.small{font-size:12px}
.muted{color:var(--muted)}
#content{padding:16px}
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:12px}
.card h2{margin:0 0 6px;font-size:18px}
.badge{display:inline-block;padding:2px 6px;border-radius:999px;background:#eef2ff;color:#263fa2;font-size:12px;margin-left:6px}
.legend{display:flex;gap:10px;flex-wrap:wrap;margin:12px 16px;color:var(--muted)}
.legend span::before{content:'';display:inline-block;width:10px;height:10px;margin-right:6px;background:#dfe7ff;border-radius:2px;vertical-align:middle}
.legend .islamic::before{background:#fdecc8}
.legend .punjabi::before{background:#e4f7e7}
.legend .custom::before{background:#ffe0f0}
.legend .agri::before{background:#eafbe1}
.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
.cell{background:var(--bg);border:1px solid var(--border);border-radius:10px;min-height:86px;padding:8px;display:flex;flex-direction:column;cursor:pointer}
.cell .gdate{font-weight:700;display:flex;justify-content:space-between}
.cell .sub{font-size:12px;color:var(--muted);margin-top:4px}
.cell.today{outline:2px solid var(--acc)}
.month-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:8px}
.nav-buttons{display:flex;gap:6px}
dialog{border:1px solid var(--border);border-radius:12px;padding:16px;background:var(--bg);color:var(--fg)}
.dual-rtl{direction:rtl;font-family:'Noto Nastaliq Urdu','Jameel Noori Nastaleeq',serif}